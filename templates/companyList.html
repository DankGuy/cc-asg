<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Company List | TARUMT</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="{{ url_for('static', filename='img/logo.png/') }}" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link
      href="{{ url_for('static', filename='lib/animate/animate.min.css/') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='lib/owlcarousel/assets/owl.carousel.min.css/') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='lib/lightbox/css/lightbox.min.css/') }}"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link
      href="{{ url_for('static', filename='css/bootstrap.min.css/') }}"
      rel="stylesheet"
    />

    <!-- Template Stylesheet -->
    <link
      href="{{ url_for('static', filename='css/style.css/') }}"
      rel="stylesheet"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <style>
      td,
      th {
        padding: 10px;
        border: 1px solid #dddddd;
        text-align: center;
      }

      th {
        background-color: #dddddd;
        border: 1px solid #f5f5f5;
      }
    </style>
  </head>

  <body>
    <!-- Spinner Start -->
    <div
      id="spinner"
      class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div
        class="spinner-grow text-primary"
        style="width: 3rem; height: 3rem"
        role="status"
      >
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <!-- Spinner End -->

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0">
      <a href="/" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
        <h2 class="m-0 text-primary">TARUMT ITP</h2>
      </a>
      <button
        type="button"
        class="navbar-toggler me-4"
        data-bs-toggle="collapse"
        data-bs-target="#navbarCollapse"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
          <a
            href="/admin/{{ admin_id }}/companyList"
            class="nav-item nav-link active"
            >Company List</a
          >
          <a
            href="/admin/{{ admin_id }}/supervisorList"
            class="nav-item nav-link"
            >Supervisor List</a
          >
        </div>
        <a
          href="/adminProfile/{{ admin_id }}"
          class="btn btn-primary py-4 px-lg-5 d-none d-lg-block"
          >Profile<i class="fa fa-user ms-3"></i
        ></a>
      </div>
    </nav>
    <!-- Navbar End -->

    <!-- Company List Start -->
    <div
      class="bg-light"
      style="height: calc(100vh - 75px); width: 100%; overflow: scroll"
    >
      <h1 style="margin-top: 30px; margin-left: 50px; margin-bottom: 30px">
        Company List
      </h1>
      <div style="display: flex; padding: 0 50px">
        {% if companies %}
        <table style="width: 100%; border-collapse: collapse">
          <thead>
            <tr>
              <th>Company ID</th>
              <th>Name</th>
              <th>Email</th>
              <th>Phone Number</th>
              <th>Address</th>
              <th>Postcode</th>
              <th>City</th>
              <th>State</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for company in companies %}
            <tr>
              <td>{{ company[0] }}</td>
              <td>{{ company[1] }}</td>
              <td>{{ company[2] }}</td>
              <td>{{ company[3] }}</td>
              <td>{{ company[4] }}</td>
              <td>{{ company[5] }}</td>
              <td>{{ company[6] }}</td>
              <td>{{ company[7] }}</td>
              {% if company[8]==0 %}
              <td>
                <form
                  action="/{{ admin_id }}/acceptCompany/{{ company[0] }}"
                  style="margin-bottom: 5px"
                >
                  <button
                    type="submit"
                    class="btn btn-success"
                    style="width: 80px"
                  >
                    Accept
                  </button>
                </form>
                <form action="/{{ admin_id }}/rejectCompany/{{ company[0] }}">
                  <button
                    type="submit"
                    class="btn btn-danger"
                    style="width: 80px"
                  >
                    Reject
                  </button>
                </form>
              </td>
              {% else %}
              <td>{{ company[9] }}</td>
              {% endif %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>No company found.</p>
        {% endif %}
      </div>
    </div>
    <!-- Company List End -->

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='lib/wow/wow.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/easing/easing.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/waypoints/waypoints.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/counterup/counterup.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/owlcarousel/owl.carousel.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/isotope/isotope.pkgd.min.js/') }}"></script>
    <script src="{{ url_for('static', filename='lib/lightbox/js/lightbox.min.js/') }}"></script>

    <!-- Template Javascript -->
    <script src="{{ url_for('static', filename='js/main.js/') }}"></script>

    <script>
      console.log('{{ supervisors }}');
    </script>
  </body>
</html>
